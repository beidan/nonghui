app.controller("CartController",function(t,o,n,r){o.isLogin();var e=JSON.parse(localStorage.getItem("user_data"));null!==e&&n.get(r.MyCartUrl,{params:{userId:e.id}}).then(function(o){t.ಠ_ಠ446=o.orderProducts,t.ಠ_ಠ447=function(){var o,n=0,r=t.ಠ_ಠ446.length;for(o=0;o<r;o++)n+=t.ಠ_ಠ446[o].productPrices*t.ಠ_ಠ446[o].count;return n}},function(){console.log("error!")}),t.ಠ_ಠ448=function(o){var n=o.target.ಠ_ಠ449;"编辑"===n?(o.target.ಠ_ಠ449="完成",t.ಠ_ಠ450=!0):(o.target.ಠ_ಠ449="编辑",t.ಠ_ಠ450=!1)},t.ಠ_ಠ453=function(o){n.get(r.RemoveGoodUrl,{params:{id:t.ಠ_ಠ446[o].id}}).then(function(n){t.ಠ_ಠ446.splice(o,1),localStorage.setItem("cartCount",n.cartCount)},function(){console.log("error!")})},t.ಠ_ಠ454=function(o){n.get(r.AddCountUrl,{params:{id:t.ಠ_ಠ446[o].id}}).then(function(n){0==n.status?(t.ಠ_ಠ446[o].count++,localStorage.setItem("cartCount",n.cartCount)):(console.log("添加数量失败!"),alert("添加数量失败"))},function(){console.log("error!")})},t.ಠ_ಠ455=function(o){t.ಠ_ಠ446[o].count>1?n.get(r.SubCountUrl,{params:{id:t.ಠ_ಠ446[o].id}}).then(function(n){t.ಠ_ಠ446[o].count--,localStorage.setItem("cartCount",n.cartCount)},function(){console.log("error!")}):1===t.ಠ_ಠ446[o].count&&(alert("数量不能为0"),console.log("数量不能为0"))}});